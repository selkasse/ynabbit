<template>
  <lightning-card title="Select a Category">
    <div class="flex-heading-button slds-p-horizontal_medium">
      <lightning-button label="Back" onclick={handleBack}></lightning-button>
      <template if:false={isSplit}>
        <lightning-button
          label="Split"
          variant="brand"
          onclick={handleSplit}
        ></lightning-button>
      </template>
      <template if:true={isSplit}>
        <lightning-button
          label="Next"
          variant="brand"
          disabled={nextDisabled}
          onclick={handleNext}
        ></lightning-button>
      </template>
    </div>
    <div class="slds-m-around_small">
      <template for:each={categoryGroups} for:item="categoryGroup">
        <div key={categoryGroup.Id}>
          <h1>
            <span class="slds-page-header__title" title={categoryGroup.Name}
              >{categoryGroup.Name}</span
            >
          </h1>
          <template for:each={categoryGroup.Categories__r} for:item="category">
            <div key={category.Id}>
              <c-category
                category={category}
                show-checkbox={isSplit}
              ></c-category>
            </div>
          </template>
        </div>
      </template>
    </div>
  </lightning-card>
</template>
